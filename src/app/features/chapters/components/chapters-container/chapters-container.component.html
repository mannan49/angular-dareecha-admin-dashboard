<div class="mt-4 mx-auto px-4 sm:px-6 lg:px-8">
  <app-search-bar (searchClicked)="handleSearchClick($event)" />
  <app-dropdown-filters
    (boardSelected)="handleBoardSelectionChange($event)" 
    (gradeSelected)="handleGradeSelectionChange($event)"
    (subjectSelected)="handleSubjectSelectionChange($event)"
  />
</div>

<div class="container mx-auto px-2 sm:px-6 lg:px-8 py-4">
    <div class="grid grid-cols-12">
        <h2 class="text-xl md:text-2xl col-span-5 md:col-span-10 font-bold text-center mb-4">Chapters List</h2>
        <div class="col-span-7 md:col-span-2">
            <app-button label="Add New Chapter" (click)="onAddNewButtonClick()"
             [className]="'bg-primary w-full'" iconClass="icon-add text-white" />
        </div>
    </div>

  @if(loading){
    <app-loader />
  } @else {
        @if(pagedChapters?.Items?.length > 0){
            <app-chapters-table [pagedChapters]="pagedChapters" (deleteButtonClicked) = "handleDeleteButtonClick($event)" />
        } @else {
            <div class="flex bg-main py-10 rounded-2xl flex-col justify-center items-center gap-2 my-auto mt-10">
                <span class="icon-clear text-5xl"></span>
                <h2 class="text-2xl">No chapter exists on search criteria.</h2>
            </div>
        }
        
        @if( pagedChapters?.TotalCount > pagedChapters?.PageSize ){
            <div class="grid grid-cols-12 items-center py-4">
              <div class="col-span-12 md:col-span-4 text-center md:text-left">Showing {{ pagedChapters?.Items?.length * pagedChapters?.PageIndex }} of {{ pagedChapters?.TotalCount }} chapters</div>
              <div class="col-span-12 md:col-span-8">
                <app-pagination-actions [pagedResponse]="pagedChapters" (pageChanged)="handlePageChange($event)" />
              </div>
            </div>
        }
    }

</div>
